# 🤖 GitHub Actions RSS自動収集システム

## 📋 設定完了チェックリスト

### ✅ 必須設定項目

#### 1. リポジトリSecrets設定
GitHub リポジトリページで以下を設定してください：

```
Settings > Secrets and variables > Actions
```

**必須Secret:**
- `RSS_COLLECTION_URL`: あなたのアプリのURL
  - 例: `https://your-app.vercel.app`
  - 例: `https://your-domain.com`

#### 2. ワークフローファイル確認
以下のファイルがリポジトリに存在することを確認：

- ✅ `.github/workflows/rss-collection.yml` (メイン自動実行)
- ✅ `.github/workflows/rss-test.yml` (テスト用)

## 🚀 使用方法

### 自動実行（推奨）
- **頻度**: 1時間に1回
- **時刻**: 毎時0分（UTC）
- **設定後**: 完全自動、放置OK

### 手動実行
1. GitHub リポジトリページへ移動
2. `Actions` タブをクリック
3. `🌐 RSS Auto Collection` を選択
4. `Run workflow` ボタンをクリック

### テスト実行
1. `Actions` タブで `🧪 RSS Collection Test` を選択
2. `Run workflow` でテスト実行

## 📊 監視・確認方法

### 実行状況確認
```
GitHub リポジトリ > Actions タブ
```

### ログ確認
- ✅ 成功: 緑のチェックマーク
- ❌ 失敗: 赤のXマーク
- 🟡 実行中: 黄色の●

### エラー対応
1. 失敗したワークフローをクリック
2. エラーメッセージを確認
3. 必要に応じてSecret設定を見直し

## ⚠️ 重要な注意事項

### アプリケーションURL
- **本番環境のURLを設定** (localhost不可)
- **HTTPSが推奨**
- **24時間アクセス可能なURL**

### 料金について
- **GitHub Actions**: 月2,000分まで無料
- **RSS収集**: 1回約5分 → 月400回実行可能
- **1時間1回実行**: 月744回 → **制限に注意**

### 推奨設定
```yaml
# より頻度を下げる場合
- cron: '0 */2 * * *'  # 2時間に1回
- cron: '0 */3 * * *'  # 3時間に1回
```

## 🔧 トラブルシューティング

### よくある問題

#### 1. Secret未設定
```
Error: secrets.RSS_COLLECTION_URL is not set
```
**解決**: リポジトリSettingsでSecret設定

#### 2. アプリアクセス不可
```
curl: (7) Failed to connect
```
**解決**: アプリケーションが起動しているか確認

#### 3. API応答エラー
```
HTTP Status: 500
```
**解決**: アプリケーションログを確認

## 📈 パフォーマンス最適化

### 実行時間短縮
- Gemini API応答時間の最適化
- 重複チェックの効率化
- エラーハンドリングの改善

### 料金節約
```yaml
# 実行頻度調整
- cron: '0 6,12,18 * * *'  # 1日3回（朝昼夕）
```

## 🎯 運用開始手順

### 1. 準備確認
- [ ] アプリケーションが本番環境で稼働中
- [ ] RSS収集APIが正常動作
- [ ] GitHub リポジトリにコードがpush済み

### 2. Secret設定
- [ ] `RSS_COLLECTION_URL` を設定

### 3. 初回テスト
- [ ] 手動でテスト実行
- [ ] ログ確認
- [ ] データベース確認

### 4. 自動実行開始
- [ ] 設定後、1時間以内に自動実行開始
- [ ] 初回の自動実行結果確認

## 🆘 サポート

### 確認すべきポイント
1. GitHub Actions の実行ログ
2. アプリケーションのサーバーログ  
3. データベースの記事数変化
4. RSS収集APIの直接アクセステスト

設定完了！24時間365日自動でRSS収集が実行されます！